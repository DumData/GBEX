{% extends 'GBEX_app/app_base.html' %}
{% load static %}
{% load laeb_tags %}

{% block content %}
    <div id="background_div" style="position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: -10; overflow: auto;"></div>
    <div class="panel panel-default" style="position: absolute; left: 200px; width: 900px;">
        <dl style="display: flex; background-color: white; flex-direction: column; width: 100%; max-width: 700px; position: relative; padding: 20px;">
            <dt style="align-self: flex-start; width: 100%; font-weight: 700; display: block; text-align: center; font-size: 1.2em; font-weight: 700; margin-bottom: 20px; margin-left: 130px;">
                Data rows
            </dt>
            {% with view.data_counts as data %}
                {% for dataname, datanumber in data.items %}
                    <dd style="font-size: .8em; line-height: 1; text-transform: uppercase; width: 100%; height: 40px;margin-left: 160px; background: repeating-linear-gradient(to right, #ddd, #ddd 1px, #fff 1px, #fff 5%);">
                        <span style="font-weight: 600; display: flex; align-items: center; height: 40px; width: 160px; background-color: white; position: absolute; left: 0; justify-content: flex-end;">
                            {{ dataname }}: {{ datanumber.0 }}
                        </span>
                        <div style="width:{{ datanumber.1 }}%; display: block; background-color: #3d9970; margin-bottom: 10px; height: 90%; position: relative; top: 50%; transform: translateY(-50%); transition: background-color 1s ease; cursor: pointer;"></div>
                    </dd>
                {% endfor %}
            {% endwith %}
        </dl>
    </div>
{% endblock %}
{% block page_js_block %}
    <script type="text/javascript" src="{% static 'js/three.min.js' %}"></script>
    {% random_int 1 3 as randint %}
    {% if randint == 1 %}
        <script type="text/javascript" src="{% static 'js/vanta.waves.min.js' %}"></script>
        <script>
            VANTA.WAVES({
                el: "#background_div",
                shininess: 77.00,
                zoom: 2
            })
        </script>
    {% elif randint == 2 %}
        <script src="{% static 'js/vanta.net.min.js' %}"></script>
        <script>
            VANTA.NET({
              el: "#background_div",
              maxDistance: 16.00
            })
        </script>
    {% elif randint == 3 %}
        <script src="{% static 'js/vanta.cells.min.js' %}"></script>
        <script>
            VANTA.CELLS({
              el: "#background_div",
              size: 3.20,
              speed: 3.30
            })
        </script>
    {% endif %}
{% endblock %}